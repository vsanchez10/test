{"status":{},"contains_secrets":true,"product_version":"3.0.0.1","spec":{"description":"Project_2","resources":{"client_attrs":{"785379e5_deployment":{"y":296.5,"x":511.75},"14b11952_deployment":{"y":286.5,"x":466.75},"ef347d03_deployment":{"y":287.7400789679,"x":95.7398787757},"55a64ad0_deployment":{"y":279,"x":1001.75}},"service_definition_list":[{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ec27223c_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"dadccf4a_runbook","main_task_local_reference":{"kind":"app_task","name":"ec27223c_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"aa5badb4_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"676c38ac_runbook","main_task_local_reference":{"kind":"app_task","name":"aa5badb4_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Restart"}],"name":"67cc7fae_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"65e126c1_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]}],"description":"","name":"847b44e1_runbook","main_task_local_reference":{"kind":"app_task","name":"67cc7fae_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"WebServer_Stop"}],"name":"83fee751_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"WebServer_Stop","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl stop httpd\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"superuser"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"6ac282c9_runbook","main_task_local_reference":{"kind":"app_task","name":"83fee751_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"WebServer_Restart"}],"name":"799c58d9_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"WebServer_Restart","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl restart httpd\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"superuser"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"65e126c1_runbook","main_task_local_reference":{"kind":"app_task","name":"799c58d9_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"WebServer","port_list":[],"tier":"","variable_list":[],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_DB"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"89e32013_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"dd7ca4c4_runbook","main_task_local_reference":{"kind":"app_task","name":"89e32013_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_DB"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"d7ea78ac_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"90bf2ba0_runbook","main_task_local_reference":{"kind":"app_task","name":"d7ea78ac_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_DB"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Restart"}],"name":"a55a0ccb_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_DB"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"04dcbba1_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]}],"description":"","name":"c9f3f242_runbook","main_task_local_reference":{"kind":"app_task","name":"a55a0ccb_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_DB"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"MySQL_Stop"}],"name":"76aad73c_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_DB"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"MySQL_Stop","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl stop mysqld\r\n# sudo systemctl status mysqld.service\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"superuser"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"e4c120ba_runbook","main_task_local_reference":{"kind":"app_task","name":"76aad73c_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_DB"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"MySQL_Restart"}],"name":"099c2036_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_DB"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"MySQL_Restart","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl restart mysqld\r\n# sudo systemctl status mysqld.service\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"superuser"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"04dcbba1_runbook","main_task_local_reference":{"kind":"app_task","name":"099c2036_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"MySQL_DB","port_list":[],"tier":"","variable_list":[],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ea991b0c_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"24eb75f3_runbook","main_task_local_reference":{"kind":"app_task","name":"ea991b0c_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"97b7f112_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"16fa14bf_runbook","main_task_local_reference":{"kind":"app_task","name":"97b7f112_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Restart"}],"name":"30749b79_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"814b3110_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]}],"description":"","name":"937a5af9_runbook","main_task_local_reference":{"kind":"app_task","name":"30749b79_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"HAProxy_Stop"}],"name":"91b08a76_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Stop","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl stop haproxy\r\nsudo systemctl daemon-reload\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"superuser"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"cd58a50e_runbook","main_task_local_reference":{"kind":"app_task","name":"91b08a76_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"HAProxy_Restart"}],"name":"630d6d38_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Restart","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl daemon-reload\r\nsudo systemctl restart haproxy\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"superuser"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"814b3110_runbook","main_task_local_reference":{"kind":"app_task","name":"630d6d38_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"HAProx","port_list":[],"tier":"","variable_list":[],"description":""}],"substrate_definition_list":[{"description":"","action_list":[],"type":"AHV_VM","name":"WebServerAHV","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{}}}},"os_type":"Linux","create_spec":{"name":"www@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"8225fa9e-0afd-41fa-9be4-8dc3147914e2"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":1,"gpu_list":[],"memory_size_mib":1024,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: @@{teccadmin.username}@@\n    ssh-authorized-keys:\n      - @@{teccadmin.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"a857222f-05bb-4d2a-9cbc-fa566889c25d","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CentOS_8_public","uuid":"255ec440-f61e-4b9f-bcb8-e3712f50c80e"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]},{"description":"","action_list":[],"type":"AHV_VM","name":"DBService","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"120","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"teccdba"}},"editables":{"create_spec":{"resources":{"nic_list":{},"memory_size_mib":true,"serial_port_list":{}}}},"os_type":"Linux","create_spec":{"name":"MySQL-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"8225fa9e-0afd-41fa-9be4-8dc3147914e2"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":1,"gpu_list":[],"memory_size_mib":1024,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\r\nusers:\r\n  - name: @@{teccdba.username}@@\r\n    ssh-authorized-keys:\r\n      - @@{teccdba.public_key}@@\r\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\r\n"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"a857222f-05bb-4d2a-9cbc-fa566889c25d","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CentOS_8_public","uuid":"255ec440-f61e-4b9f-bcb8-e3712f50c80e"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]},{"description":"","action_list":[],"type":"AHV_VM","name":"HAProxy","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{}}}},"os_type":"Linux","create_spec":{"name":"HAProxy-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"8225fa9e-0afd-41fa-9be4-8dc3147914e2"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":1,"gpu_list":[],"memory_size_mib":1024,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: @@{teccadmin.username}@@\n    ssh-authorized-keys:\n      - @@{teccadmin.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"a857222f-05bb-4d2a-9cbc-fa566889c25d","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CentOS_8_public","uuid":"255ec440-f61e-4b9f-bcb8-e3712f50c80e"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]}],"credential_definition_list":[{"username":"teccadmin","description":"","type":"KEY","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"mKAklStscjNxawIKhnQU1OjcP4tez7GopoR4F7fbdPQfj2YyljkoOy3MmdMQhGPinlau1BwHuP6swK1KWCTlJlOSkUpp5qX\/bERVXijhxt\/C0hk02Ki0jHms2tj7Okd51ccLSOWDeoZzMr72\/rho4IT+7R7kVacZOV8SjB6J6uXZIq2gUpzBVdDJdaMmblMHwm7GE1nKvGaTAGyJiM2EUSN37\/J1Zs8dy8pCXWtx\/4B7UKW24Mys59JipttaIObADoqpQIrtr+NcOHM6dKolTeDiflXF9r5pxLPp0BKWXb34n7nXN9FyLYfqoix6redygn+biqDLO4YjFUDVsp8SB9lo5LXO64y4qjcYT+lbMa0x8bro2K6GYtVEbERXQu5ZX0hKpV3jhqVrOo54MBVynZ+kaHBKsDNHikyHNWNRPfX+L1LqdQMP1+hugWEIShPSfX1feDnlORi9fg2a9tIspYnccMQ+V66yUapzq0ZTmwgYQ+3OZ9q1J9QRFLisUml5MFST6rM0akmvbkWlEQ7QSBCR9dtXMHdy13vht+DFfGSBeOOGVAz2GauddAOplWpuDx8WPDlA9DTqphTJ0Jwgw6YJsPMrTC2zrYusW8V+brjih2jqtO5mOmwHgUFQ2SZ3g\/i1MtQiFRxmyw\/rZ4h4p1oS9nJngl\/n+j890FDs1g5vp\/xB8pXrX9g+GgVgWLUkX16dPbV5FCZ2LajEoCecCP9FxOrLJHLOh64vwY6+e7paFW\/kaB3GqzvrYso2VyhnSQv688nfpLO+hsQnE8vVkINYQZ385D56MVbuolDpWU6f361GRBewUcPYy8EPcGPqefhkxq8HaOSyOo2KoObhHKV6yZS19yxitMBQF5DMiNcQouf+1CTQuUz9b1Y8kY3C28yhHMMJZxOLINwBzVjkuH5QMqTYsk6N7BoskS35QKIXFTehmssGfkojyd25iI1RSTRXPiPDImNaAu2iO3uv6Dxs6XZnaTGfFFeS5Bn+eXHFB5a5RakvN+tf1Fber9SEFUYuN3C3Cx\/NT+fCoxBlffr26\/21kcPsLwI53N25lAuwtBPsIhUTBecvuFi6N8uel8gSBQ2ZOnbDyrTuw5pLcdvVOZn\/AAaic4k3DXHFvjTmt8+Fa\/Ur3Sm7o4M3DhXKxG0hg7NCyeE2OE3ujghqYmWar+OHX2L0yhEUchW6wX\/UfA0QPHjAXaoXJDfxg5KQFl8hiGCfcO8YuU7hKPBY0g2HLxiJfeKHvT9+RcbE1ayHlgfO4WxpO1N3OwsX7RcytxbreY3oWt5f9o9JSjUGmhWjavOozN7XiGbCEXrH5YprZoksbuLe9ey2tbO9ephcjJJqCftbI97rUk8FeCfozwrTCY8XF9zxsjAlGLuXi\/vqo0IBWKE0bx\/0r6g1pnaotkAf62ZsubiNRDhz9rHiHSp9C4o\/jW0r6I1SnOTAoDsuP6\/nStHe00JgG\/TEutZd1eR\/jcT58vKhHzAJZtYmijqhg06oxGSEmcmgQ8km6JzfmFgzgOCz+JjrOG3y+RaDzY8dlsjIdBnoPi5s4BVXawElAaJO7rtNMYQyCJG0Hs+mp2ItO7Esz+99InZU+FC6b4pYPV76KwockWOjEWSv6\/OW3ZiJVkBPvoYYg9DOLycq5C2nS7ySeAGUBeakHkuLOs1QAuLSjtHnSPwGyK4HsQrC3+XVgASV\/g03E+FdHAQuEI8S8qm89QLMVkJ4EBa9XXzLw+VRBTRqXJZ0XRuO4rpbG4CUNbBgjCezfUaVu10I0Z5NJP8hKEIOxpXhsDROZGK2wzdWIOfaUjQnWaPCU9tjuiABBgL9XSInfzCGLYm1XSccnMFi3ap4uk1EkbcuHaTpEWn1fV0cvPQ+7D59ctd6MtIZTtbyx+PIoh5dyl5Tbn5A7BcmDrUehD2sJqwnwKY+t98Wkrjvg7CnTSGgxXXR0DzpjdGN3ECBV4DSmpnsGmeNtyHXa\/\/FH4YZeyBEiFyEnnzEqKG57DWWXIbNswdM9ooeIhO4ipoPHmGgzrZL8c6p4Bm8lPNq3NU8nzhM5\/CH8vbDSfvBlknDEa9cf5xg94VOUtOs3zb2ILLjOWW+R0\/u0FI3YYQJRHIvWwEjBx1yr\/5sXOICiJRe3P9ryBuAdxrU4RGCyX\/aWrU9hpWr3NeE3a\/CZHN7NoVQIeF0venzTBkLp2fx6wWd7Y5OKOdUkIKz15nR5l+UztRXTC6nUyIKQo\/sU2Tq93ldAUwgcGvPQMWXAvGIoslfjTLC9GjEfEJjyZHKiAiC0nu1st2pfHPqNjh\/2qYX+cnHyJ7W1btVU68gFkMIvVItZq\/9cN15Zdl488nZeJBK24pfrIIXZrzDzSgQYzXksVFpDi6CxIHapJQDSHcUBbwZG3H6c6A3GRlaXu2N5zK2qS83J0bcuyjSKsUyzL0l4cuEcWzyvwswf991niXV9TfNsJqHQTJG6smH9Ht\/OqJf+kOekC4jSOF0+rreuBaAx72VQWH8O+3Y+SapkCXMvfG54dlaxDYXcsprP2jj7aYMAKs3wmE8xAK7tRJYW5Jk\/9nPSkWx0SP2y4YnU6Z\/UNLLEiTII72djNXXxUXYAtK5E8fcsRmDtmioFvsmms4OnPbjcsDcIOJNZ+D250y8BZjEnU4j9wrHvHOgzIt4znHX6Rot92Bw1nBzetFc17p5SvVVG0yM6\/e3fUNsq+XM2Qb1P96eAXttgOGtnfDj9x31ibccam5uU7b2z11U+pwkXp7O6334jRXn2V3\/sTEeH9G4kvR5HEJhA\/4I7kD44ydYQaQyHdppIiQ8z+ztmyyb6VeUxyivyynJeueuUYYvAKitG7sA3J4QRJbUOB7J8sFSrHEXB55hBi54kvZaFuguPdeUQCn25VuFMt+UWyGT28q3qSO7\/r\/RalxIP9b9bIt1hmyXeQeHezmv1864Parjeokir\/2RsFmE9rQhG8kVJUL1CBXeQD1ljtqyuJjg3YCeWASkZrQSSKOeoYJuWmRMj2r9Ehj45jdUVVKhVASg3mIPMj71Y\/\/PGg7Ng9\/gIC6G3D3YsAuhEPIEU4Nb7yDInj9Cd2mgPzM6NkQ9hU3jEob1DAQMSuYNNbxbum7OZ5R68zNykqZcHDim4Rk1uQFzSwYczUlYmIWyYmF431L3gpbyYraSKtgDB1OXldqlA+GFV24oqcuOFKx\/luhnQ6HHhQd3PCkVt370MPDVUUA4Bqz7dJklc4cwwK+TdV\/YQVIyAIKTQQhRtNUncWHGIf6z97QlVglqKOGZP0yaQS+z6MzTzXVrIRjgkhv\/rHxzqBRm+Zx3LXQNn\/NzWNhmn4v6rg==:utf-8"},"name":"superuser","editables":{"username":true,"secret":true}},{"username":"teccadmin","description":"","type":"KEY","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"MLObKfG3ONLvS\/lHu7W9xC97du7XdvADhUrqm2bGMIYPZkrE5H6VOubAYmXUCW7lrXzDQRspd5mBw6AC4Vb5kTA8Xbh7XxHDrDhcrKZwkqoGhI2fm5SsM4DPauQSLslWmr2q9JWMv8k3Zwwd2CNAI9yiT\/XKHzfhu27B8tY44GIfWvbJVOM1Imp96ytey25iBarrzL2yXqYwokGNqIRcbAt2y+MWokTM7lSyAz5ybW9CQzHaXYZBAZ45\/\/vELX12QOI5tfN9x8CX6nKe8gk\/NcjaUDHW\/bHQXG6S79pNn5p1WmhtN1UPGZ001pO2C6lvC4jyvHXIFFJSHZ7ujquo9LMyqW4w75vMiPxRDUfD9LlAeWrrBZdPFGVDfmPOQpfn+GqF3ynT2YM3E8+j3Rfv4Q2ZWOnKPCBIvoUUePHNl0tTY8fVWnlWcjzjYhkefTcQoXBBgL5OvD2M3YbNxeLa\/qDsgwRJG05NNeJck7YOqDs3o+5LWW8WkE7XRhC6TZaXpeROhe1AL+gFmsS2Q90C+ksBW7VKM1Jaz56n7Pt2nH+aAfKjv7N\/tgPgIi9oxJwvtE5th7z1R10wE88tCcRJ4FAP8UQU9EYV7y5irwn5EaA6gTBwV\/NK8f86M8D4avm6W0rjNEosZ+8uF202LUVVXXgwM1Ych9pMv3Oo6WJdVjRZcqJOwLf+\/l94BLq++WfravSI2WCIbG\/rrbYkVKqKLmtfFQDhYKDH3Lpky6ugnStU5788bXvftdGj6Gj7pf3tIQimJPBT25qPkKdHNZTNDybfEUNtcyHikSnc+8AHt1J0iLf1xQbV3IJeM7UOLJLQGhkXCeQM\/xryg\/0trATXDTnrmvtsOR4aKC2Kg4CH492jHwT+USUUD8mlcKGA2I+GLvfROa2FNu9mAjrX5j\/efIWSC4tsarj53MWIK32zBlg0zconjoFFtJ+TF1WQAI0I+L9Wx5YQ1uh9f+cazavkpfb0QYI28PUbyyeF6CRkg1Q6JPydm5QWsCnxAT6QA0QqNge9IBEECzC2kMX9Nu7JByUKe4JakILY1C+mPLm+RKy5K1+XFhDM\/39hmmUT8m1qc5+IjHBYTcFjnUUa03Yfb8qmMFC1vqBiobmxpXFkcAMoZmjGoa4fWbGJTuilwqAqxV2qSpxsxUvYIR8+pYxP3AbSC143UPf56p15wkqkcw+ufdA7B1FWLa0LZkUFwsp0tBo\/XCnqdZd90DMfZ1HDrwlYdVYSKFjTiUct5OMUwcvHsGnpB6VI49Qn2tcCt4QLKzRcVUH+wLiJrr5\/Yq6QB+o\/xFPtbwGYOYdZH5JddEf6AhebIOX852wACT5cFyEbEJspb2sKQAL2EUzpNL84QQ5+xJrjUNx7G9Is2ADQAu1jIoveThy2Bl34vaVRmUo19CTEpEyLqHb+8bx4Dzp05L5UFeSBffOi\/S9zl6hHGSpxJSra3cPAWRYSB8VS3L3SWa9TjTnjbml2jZKDpqLxWcy6fLOwn5EzR\/LM0G7oUZ0NFJoP2x8zKLDUKWW\/fT8il84QVq0JQEJwhAGIrXwYFZ+BUPr6BbcY7ihZVvArGmwNrkM5SnZV2ASy6i+Z5VfqFsQO4A2gN4MJGN8oID4PeCBAFEkaSgLqoMslOrcmedYuReYGpvDDmD7ApOKbeuzs40OArdSPc3i+AXFsRObJBIYQlYSmEPP8wakBvu\/3m0kAtU8VO\/iLEA0ePzsOTHUpsZM\/F8BY1rrYwcNFYHZs+9tf\/VV\/WCx4SFLhejiF0BCMkYflMYhkgXBf9d8CTIA5Wwc6gqsIgI31CW8DXeQ+eOMur5vTAP+orGScxu1p0\/3R6MfeHQm2UEbHIoebuY2WmEYd4J5PtzFlRJjK5qDRXGdoxkAkbj6UrSt9h1e0W2AUZp6O0LeeC6tUvxnWU8w6rg35Vva2HBc+3hWbsSq9T1CM4xRcU3nBhKcA4kN\/IH2IVuWEBk9KB8fMUcCJXS1eLjJR9i36fPtNyJmaMyQIY\/b1I6eqp7UBdyCGQUIxljz3U66O5+\/OL3i1pz9GP+Bmaa1MKBNWAej\/ObGHJXrNRN30MwITgUhkbiULYzyr9CBqwbBsK1OQCQcMKuMr5e7twpku5fD9JLYZPGiLrIEsEEJAao5p1W2f1aZRKxofrDfX06\/rJPSJtJSXJtxu03J2P6zCYr24jsGGFZTWqGuF97eYe7dE+07DC7AwjQaAgi61U8g3HmNpt8agjw3ZJzuu0sFVWBp5SezoQLna\/h4fTjAkFfRn5uOyC\/wmAA+eQEchjm06j5z8Qh7\/ECqQTzqWLlABdyQcdlotsv0QYF+y+oPicCUcyUWex6WD1dXrhCnapO4+jWo9zTU69NxcEexQ1sjgAC8ph9X2CfH5cnA77YjPuH8WoRPTmkFkSPSt0mDrOthkr3Xzv28TOdEMBnkHWOzbAPGHPSfgeTbucBkiJ7cdUzeyUoP9QAOIlGjdon1ub\/zpRMgARHKTfAu4wcayGI0cXReMp+30MQjHLvoZF\/Aw96MC2eYlXgzA64XLY5kdipCOddEBMF\/aGTwrkVhTXkfThHB8pGtQyk489Vntkr9xWokSFZs5n6gM9VXb+X6IDOSw0ahuMz+PxUWq8sM1Qedmabq8X56TeoVtq0m5OddQ2iXWroRvwwoSZ74Ydr4U8sbhRFg4suIgd+j04VyXwrLTkhW+5DCPrgtCAiCHuoB2+lj3wwesuGJoWmitPD\/ZbXplHTW1VoE6sFykGjtchf5jYW3L1QjsFtHWFRObf0wTjWkv3rvNMj0pa39lUQAVmRhKzJ16i7u93PI88zOcFKgCyjeuKoupkzfaKRc48kL3neZciwmZ98cr9S3pCUlMXx2fD+zsGMFWNZcfjQtNgL\/pZyYQteO0y8aO2mwptQRNVm6ZcrLDrHOXU\/mmDnFW4u3UeDs2lpDKHPETdCMLhJ7qTI5DBb1wyzrkbuRjpyAoycq54Btw+wGyetzDJNkMcxxpTu8AcdeV+HFCWssLrF\/ve2tAPoAaQi6ZUKJszRPRIADzGyexA7CJv6ixQgRPS\/Rs7HCpMWB8+cK27EXiG\/VaTUzulc1\/Ht3c4q\/KG48Wz61Q7SlU7cuO7CJBcHG+7o9eortDnCJQd\/Ph2uxRdUix9XrsSB7KAXUGX\/e\/pYnW6tYcpEnts1JbQSQ2jHAIe5NB4WQAs6upklgCTZ35CXw8C2a79+L7NNPOqMG52LmJHmb88GGDhilmU+LgCaxTmdKHmvj8lj\/yHajGg\/nojw25bLRwJQew\/elvHf21PCddhbn26Y0Lq3X9OQ4t2qqlXVL2gUqlomUP\/w==:utf-8"},"name":"teccadmin"},{"username":"teccdba","description":"","type":"KEY","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"Tqfj4MMLUtkA7JDlVXE3U19QVaZsWSYSasRCr3\/xaTEmkshXA0buiHeYSpjC5PjNCR0ceMKtslc1vhU3pv27jhPqr38jlVAZUBmf4iJxGSPo5\/\/56GvVCdNx0ne8ve1L6nnMO6EvTKPmkxS+dJ4SDj5yifiUhK8\/Xk+pS0nEgHR7I77S1BPyu3T8NKhhS3zQpOuxaoU3UJowCK20wm4Uw5ZSGK8QDMCrOiwnlWUyEkZVYUMUgggf+OMU7p81BBB7kLncqoQNTA2lmNY65HIt+\/TRY69\/4E315nfgaFrilZ8zP32mT6vMin+fI0Z8jxymvi0RqDtQBjl3+mJJtGAf87xHGHctioL221NcslXY4HJmilZF28dAezjFAfwcpoonFuT0xvc5GI4Sr0gyawxwZU1QwryLLW2rahDTYHUTGc5y\/bQxZVQCUC2QdCj3JhAdyWvmCctcyxT\/aH5kfKV8D6LPETDIUD98iMpG4TGW3TprvO5jDUJCLWwPrsUSRjTG9ZrWiWFQMhwed8JVJqJZ36x7XNRG9CgnD77evyQ6JsN+RGln26qLXciSJll2TR25bz65kumbsrTwydmEWC1PAFMI7Iu18ATkV86ed\/ZqcVDTIsRBd+KZgpDntesBJf79GX9LMJCLUcTxSb8iTS5wxTsEY1+QYYbq0HcRPfRntYJ6Pme9UZ3d1AJEeFkq5OayjGPZVZwXfW+vWLvjYr7rOLSh8mb44QkgG9dH4TxKKkI6xLRNP3Kj1OafCSUT4NCkeKD7Vtx0oFPgKQnrkWH\/fofFtRAqAYmA2q5BYmkV2DMyytDla6UJ3TSRWy1OtZAvYRzfgZkysw8nzBEGVNlBKXjZ6E0JQbF20MPkZRqNUl1it8pdStsOV5zDnAg3Kj5rpZ\/Xj4YsswAnCnXdue0wqVXIJjwBfXXoFnXMRMuCyBttC\/D0lMwoaN4IGmGd0GAdF\/EILPsCYbH1pNyVpO7cdlMSd1sjcGKJTTXfgeX1dCNMFmRo1Pwvtp7GrGWM+kfVJrdn1W81pqy18T9UmDRITMgoDkTM9DkU6d0twVqHL4oYSpmTM24iDH3FGk4Sbjj1GlXCvIo12wLVhwRcL2VWcAxw16sdYAD+HdyJ1JE38MqPX625H4LPEsg5qEf2TIfepzgSLaKWw3wbLXtN8cgIsxFTPph4RVU354FUNa0WYfcuXSh48g2OilTAAIMH+fhc+jZVD0wrn+FJjaLiToeeJN4X6z1ARjiNqLk3ItfdkeV1K7E2+Hf75YE5yNk8d2Ui6qfXqoc+KCteoZHM28h0VcaHBD4I0JgSsr7R51ttziEPgkQOplM6jaqWF+Cc3HykWx3VD9mUDvZolWx9kwE7xICClZ1m2eJ\/7xU2fzb\/bt+agH8WALNC87CRz4xVz0JSr66mKSwMEJvCsg2qmZYjaM5uKRTX+0VF6SI8huO64WcQrMHfkQ+8ULZCNr7xx3HsP5Z5ZBnAEPz8dQ3A65DsfGhoV93RHMXdkIKpd8\/HC6TSuAtTyctLsT7iEe2TLLPblRPzf010aS3MnfQEYX3N57BxSUNiS6CW29V0Mp3+wfnvdg3dBlC6TlC\/4evSC3l\/lIJXoCWrrc+P7sXqljG2ttgEIr4posPQg9fXZfKlt\/Hjz4CKL1zXTK2LR68vRhFO+hNu5jBvztTkBqz+eXxAPbe1ulkKS0fzaQwQ44N2x2GvGnrvvBg3en3YpPsOOM4G2GQxcBYaNGsz8f7lW2vxe1punv+Z4IAxTnQu\/j0S4GN4Ok9iIuAhqdRlgMHP2rKZ9P+Z\/9GkKS4\/EqTgZg4cmIxXSoMTvs47YCAXhQrqTBmgqZNsNNNYaN\/dJge7e\/ID4e2BF4m93Jhe6NSeiDcwrRjVfzXv0MBw6E1\/R7Sj2cKd6sbiW+DvK9pmC80A\/4ekd7Cm2AmBEWo8tPzgQUSdSDp1W+JypigiJUoqLbxtUVqH4RkmmsyVulWKbCcXFr1139u2OVxR0iKaaJ+Ttb+fedZPj22lLDeI9kpTN5BZ4j+8Z0+GbSNvG\/tYjGFiOku5u7xGd3W5G1QN7cjA8oYr+1tF\/i4S0KBOVk570qOtztPSjsAu\/6r4u9eKb3rc9xlGq1bsHmIkKd5bMcirHrCfjlWwMwi0WoNbWbqu7Iof+qJf4nxfyynZyRuSco1RNT5VUi7ph\/C\/Dsr9veTH5kNUWj2D2SYDnU65RVshtdciSHRcntSKv77xFheXHI454IBkmxk6SZMx9agy16d1uoII6avBLxR+vqHK80OCgcLyumUYRTH9FhKAkMjwCLqqu+bx+7S4RKeQM8GRhmGskvcTDbplmo8VhmDcSSWr4iNekI4\/\/14B6UdDBv\/c0MnuLpr6lHNt+pW5rGvffXib4jKsDoFdk695UkYvFaxbqAczKFt+uL+UBv8nVlJHuRkhAoYropa8I3B0F3IDecxg2FfpbFYiEAw6diMVPsmocMK4gACuIPGk2xynZPeR2OuiQhgZ1nkWiUwWoYHej26fFa0fvFTWjiFVhRfJSXRK7ueqb7fzk9+3GxgVSgXAZESXLmEPWUGutJJUcKrhOd\/6WKzvWIeWflBPKMi32l+x1ajbLbhkr\/q39BCd4KMMA8Q4GOIYCA0aZyVnSEJ1hmZcPyX3TanPJqY37nQ3bBbwbLrS3CJGG19pSp2PXkLU1xdvTopVdcmMZKHqXJzyrz3+3hMiWpMU32i+aHz1oFfMPIKAegHiA5tNOPSPzQf0hbq365FpSZWv2n4Xve+cJfyiHP7dZD3Xz9SCrPomo5MGXKTRIR2f7GXWVMQgCQ9glhVRS3nS4AKjxapDa8tW0r6owaJi+jfDfgDGwVtiNE4Ga+NDJJICsTD+2javCsYsyEtlcCznbj0w6fDOvabroeLTIKGtfWiLG1EVsGUCxuGR\/V7UN7kICEHr+W6zFEc15O9WRPiUktBcHVzlx3U3rsIblK\/NU5KgiLMoAQ7srRmlh0QT37izh99JWve0SffOR0M5Rnu7xEW2zp3V9fJ6M5JAlmtCrUKe5Gz5yqnnKcHDmYX4f9u4bs6IU\/t9SJhBjYP+7sJJaNehWG6JUns7AH00ppE7KR4N+GIZdqcAlbhXt074i4iW8RXW36WZ8wfqgPbkwTnxif7dNBjdoEweyce+tIG9S+gJtBo4UcBu4WaO\/S3Kxa1kpHjjyneJabnLSkdQtVSoSqVILeZUFtaPseHjoctZrFsv1wT5XGwMkLt3+kkHVfkWnIK0U7HP2d56PP7GJXin42uC2C2HmTT1Wg1TEY\/wOM1JtTZCCKbFA0EFKFfQlFXwlFU6Bp83JIYc4Q==:utf-8"},"name":"teccdba"}],"package_definition_list":[{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"WebServer"}],"name":"WebServer_Install","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"WebServer_Install"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"WebServer_Install"}],"name":"12be8ca7_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"WebServer_Install","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\necho \"__ Install httpd and php...\"\r\nsudo yum install -y httpd\r\nsudo yum install -y php php-gd php-mbstring php-pdo php-mysqlnd\r\n\r\necho \"<IfModule mod_dir.c>\r\n        DirectoryIndex index.php index.html\r\n<\/IfModule>\" | sudo tee \/etc\/httpd\/conf.modules.d\/dir.conf\r\n\r\necho \"<?php\r\nphpinfo();\r\n?>\" | sudo tee \/var\/www\/html\/index.php\r\n\r\nsudo systemctl enable httpd\r\n\r\n# temporarily disable SELinux to prevent httpd to MySQL authentication issues\r\n# this is for testing only and should not be done in production environments\r\necho \"__ Temporarily disable SELinux...\"\r\nsudo setenforce 0\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"ed9640fc_runbook","main_task_local_reference":{"kind":"app_task","name":"12be8ca7_dag"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"WebServer_Install"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"WebServer_Uninstall"}],"name":"33dc2db0_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"WebServer_Uninstall","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\nsudo rm -rf \/var\/www\/html\/* || true\r\nsudo yum erase -y httpd php || true\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"superuser"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"da630df1_runbook","main_task_local_reference":{"kind":"app_task","name":"33dc2db0_dag"},"variable_list":[]}},"variable_list":[]},{"description":"CentOS 8 Downloadable image","action_list":[],"type":"SUBSTRATE_IMAGE","service_local_reference_list":[],"name":"CentOS_8_public","version":"","options":{"type":"","name":"CentOS_8-pUBLIC","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"https:\/\/cloud.centos.org\/centos\/8\/x86_64\/images\/CentOS-8-GenericCloud-8.2.2004-20200611.2.x86_64.qcow2","version":{"product_version":"8","type":"","product_name":"CentOS8"},"architecture":"X86_64","type":""},"description":""},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"MySQL_DB"}],"name":"MySQL_Package","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MySQL_Package"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"MySQL_Install"}],"name":"bf7b682f_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_DB"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"MySQL_Install","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\nset -ex\n\n# Assuming CentOS\/RedHat 8.2\necho \"__ Mysql installation...\"\n# https:\/\/dev.mysql.com\/doc\/refman\/8.0\/en\/linux-installation-yum-repo.html\n\nsudo yum install -y \"http:\/\/repo.mysql.com\/mysql80-community-release-el8.rpm\" &&\n  sudo yum module -y disable mysql &&\n  sudo yum install -y mysql-community-server\n\n# database must be started for SQL configuration\nsudo systemctl start mysqld\n# database should start on OS boot\nsudo systemctl enable mysqld\n# sudo systemctl status mysqld.service\n\necho \"__ Altering database root password...\"\n\nmysql --user=root --connect-expired-password \\\n  --password=\"$(sudo grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\" <<- EOF\n\nSET GLOBAL validate_password.policy=LOW;\nALTER user 'root'@'localhost' IDENTIFIED BY '@@{MYSQL_PASSWORD}@@';\n\nFLUSH PRIVILEGES;\nEOF\n\necho \"__ Creating database, table, and app user permissions...\"\n\nmysql --user=root --password='@@{MYSQL_PASSWORD}@@' <<- \"EOF\"\n\nCREATE DATABASE IF NOT EXISTS @@{DATABASE_NAME}@@ ;\nCREATE TABLE IF NOT EXISTS @@{DATABASE_NAME}@@.@@{DATABASE_TABLE}@@ ( \\\n  id INT NOT NULL AUTO_INCREMENT , \\\n  time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP , \\\n  message VARCHAR(80) NULL DEFAULT NULL , \\\n  PRIMARY KEY (id)) \\\n  ENGINE = InnoDB CHARSET=ascii COLLATE ascii_general_ci COMMENT = 'testing';\n\nFLUSH PRIVILEGES;\nCREATE USER '@@{MYSQL_APP_USER}@@'@'%' IDENTIFIED WITH mysql_native_password BY '@@{MYSQL_PASSWORD}@@' \\\n  REQUIRE NONE WITH MAX_QUERIES_PER_HOUR 0 MAX_CONNECTIONS_PER_HOUR 0 MAX_UPDATES_PER_HOUR 0 MAX_USER_CONNECTIONS 0;\nGRANT SELECT, INSERT ON *.* TO '@@{MYSQL_APP_USER}@@'@'%';\n\nCREATE USER '@@{MYSQL_APP_USER}@@'@'localhost' IDENTIFIED WITH mysql_native_password BY '@@{MYSQL_PASSWORD}@@' \\\n  REQUIRE NONE WITH MAX_QUERIES_PER_HOUR 0 MAX_CONNECTIONS_PER_HOUR 0 MAX_UPDATES_PER_HOUR 0 MAX_USER_CONNECTIONS 0;\nGRANT SELECT, INSERT ON *.* TO '@@{MYSQL_APP_USER}@@'@'localhost';\n\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccdba"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"fb1dad97_runbook","main_task_local_reference":{"kind":"app_task","name":"bf7b682f_dag"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MySQL_Package"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"MySQL_Uninstall"}],"name":"d9af84a0_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_DB"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"MySQL_Uninstall","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\necho \"Generic uninstall script, goodbye!\"\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"superuser"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"96f3e5e2_runbook","main_task_local_reference":{"kind":"app_task","name":"d9af84a0_dag"},"variable_list":[]}},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"HAProx"}],"name":"HAProxy_Install","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HAProxy_Install"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"HAProxy_Install"}],"name":"07550cd4_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Install","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\necho \"__ HAProxy installation...\"\r\nsudo yum install -y haproxy &&\r\n  sudo systemctl enable haproxy || true # idempotent\r\nhaproxy -v\r\n\r\necho \"__ HAProxy configuration...\"\r\n# http:\/\/cbonte.github.io\/haproxy-dconv\/1.8\/configuration.html#4\r\nport=80\r\n\r\necho \"global\r\n  log 127.0.0.1 local0\r\n  log 127.0.0.1 local1 notice\r\n  maxconn 4096\r\n  quiet\r\n  user haproxy\r\n  group haproxy\r\ndefaults\r\n  log global\r\n  mode http\r\n  retries 3\r\n  timeout client 50s\r\n  timeout connect 5s\r\n  timeout server 50s\r\n  option dontlognull\r\n  option httplog\r\n  option redispatch\r\n  balance  roundrobin\r\n# Set up application listeners here.\r\nlisten stats\r\n  bind *:8080\r\n  mode http\r\n  log global\r\n  stats enable\r\n  stats hide-version\r\n  stats refresh 30s\r\n  stats show-node\r\n  stats uri \/stats\r\n#listen admin\r\n#  bind 127.0.0.1:22002\r\n#  mode http\r\n#  stats uri \/\r\nfrontend http\r\n  bind *:${port}\r\n  maxconn 2000\r\n  default_backend servers-http\r\nbackend servers-http\" | sudo tee \/etc\/haproxy\/haproxy.cfg\r\n\r\nsudo sed -i 's\/server host-\/#server host-\/g' \/etc\/haproxy\/haproxy.cfg\r\n\r\nhosts=$(echo \"@@{WebServer.address}@@\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\r\nfor host in $hosts; do\r\n  echo  \"  server host-${host} ${host}:${port} weight 1 maxconn 100 check\" | sudo tee -a \/etc\/haproxy\/haproxy.cfg\r\ndone\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"6f8849f6_runbook","main_task_local_reference":{"kind":"app_task","name":"07550cd4_dag"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HAProxy_Install"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"HAProxy_Uninstall"}],"name":"a57d24e3_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Uninstall","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo yum -y erase haproxy\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"superuser"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"4e52fcff_runbook","main_task_local_reference":{"kind":"app_task","name":"a57d24e3_dag"},"variable_list":[]}},"variable_list":[]}],"app_profile_list":[{"deployment_create_list":[{"type":"GREENFIELD","action_list":[],"name":"ef347d03_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"WebServer_Install"}],"substrate_local_reference":{"kind":"app_substrate","name":"WebServerAHV"},"variable_list":[],"description":""},{"type":"GREENFIELD","action_list":[],"name":"55a64ad0_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"MySQL_Package"}],"substrate_local_reference":{"kind":"app_substrate","name":"DBService"},"variable_list":[],"description":""},{"type":"GREENFIELD","action_list":[],"name":"14b11952_deployment","min_replicas":"2","default_replicas":"2","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"4","package_local_reference_list":[{"kind":"app_package","name":"HAProxy_Install"}],"substrate_local_reference":{"kind":"app_substrate","name":"HAProxy"},"variable_list":[],"description":""}],"description":"","action_list":[{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"DATABASEBACKUP"}],"name":"545ec07d_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_DB"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"DATABASEBACKUP","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\nmysqldump --all-databases --user=root --password='@@{MYSQL_PASSWORD}@@'\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"superuser"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"fe468814_runbook","main_task_local_reference":{"kind":"app_task","name":"545ec07d_dag"},"variable_list":[]},"name":"DATABASEBACKUP"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleOut"},{"kind":"app_task","name":"HAProxy_Update"},{"kind":"app_task","name":"Restart"}],"name":"890545fb_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"HAProxy_Update"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Restart"}},{"from_task_reference":{"kind":"app_task","name":"ScaleOut"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"HAProxy_Update"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ef347d03_deployment"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ScaleOut","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Update","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\necho \"__ HAProxy installation...\"\r\nsudo yum install -y haproxy &&\r\n  sudo systemctl enable haproxy || true # idempotent\r\nhaproxy -v\r\n\r\necho \"__ HAProxy configuration...\"\r\n# http:\/\/cbonte.github.io\/haproxy-dconv\/1.8\/configuration.html#4\r\nport=80\r\n\r\necho \"global\r\n  log 127.0.0.1 local0\r\n  log 127.0.0.1 local1 notice\r\n  maxconn 4096\r\n  quiet\r\n  user haproxy\r\n  group haproxy\r\ndefaults\r\n  log global\r\n  mode http\r\n  retries 3\r\n  timeout client 50s\r\n  timeout connect 5s\r\n  timeout server 50s\r\n  option dontlognull\r\n  option httplog\r\n  option redispatch\r\n  balance  roundrobin\r\n# Set up application listeners here.\r\nlisten stats\r\n  bind *:8080\r\n  mode http\r\n  log global\r\n  stats enable\r\n  stats hide-version\r\n  stats refresh 30s\r\n  stats show-node\r\n  stats uri \/stats\r\n#listen admin\r\n#  bind 127.0.0.1:22002\r\n#  mode http\r\n#  stats uri \/\r\nfrontend http\r\n  bind *:${port}\r\n  maxconn 2000\r\n  default_backend servers-http\r\nbackend servers-http\" | sudo tee \/etc\/haproxy\/haproxy.cfg\r\n\r\nsudo sed -i 's\/server host-\/#server host-\/g' \/etc\/haproxy\/haproxy.cfg\r\n\r\nhosts=$(echo \"@@{WebServer.address}@@\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\r\nfor host in $hosts; do\r\n  echo  \"  server host-${host} ${host}:${port} weight 1 maxconn 100 check\" | sudo tee -a \/etc\/haproxy\/haproxy.cfg\r\ndone\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"superuser"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"814b3110_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]}],"description":"","name":"cb14da1c_runbook","main_task_local_reference":{"kind":"app_task","name":"890545fb_dag"},"variable_list":[]},"name":"WebScaleOut"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"HAProxy_Update"},{"kind":"app_task","name":"Restart"},{"kind":"app_task","name":"ScaleIn"}],"name":"3f9f24e2_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"HAProxy_Update"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Restart"}},{"from_task_reference":{"kind":"app_task","name":"Restart"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"ScaleIn"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Update","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\necho \"__ HAProxy installation...\"\r\nsudo yum install -y haproxy &&\r\n  sudo systemctl enable haproxy || true # idempotent\r\nhaproxy -v\r\n\r\necho \"__ HAProxy configuration...\"\r\n# http:\/\/cbonte.github.io\/haproxy-dconv\/1.8\/configuration.html#4\r\nport=80\r\n\r\necho \"global\r\n  log 127.0.0.1 local0\r\n  log 127.0.0.1 local1 notice\r\n  maxconn 4096\r\n  quiet\r\n  user haproxy\r\n  group haproxy\r\ndefaults\r\n  log global\r\n  mode http\r\n  retries 3\r\n  timeout client 50s\r\n  timeout connect 5s\r\n  timeout server 50s\r\n  option dontlognull\r\n  option httplog\r\n  option redispatch\r\n  balance  roundrobin\r\n# Set up application listeners here.\r\nlisten stats\r\n  bind *:8080\r\n  mode http\r\n  log global\r\n  stats enable\r\n  stats hide-version\r\n  stats refresh 30s\r\n  stats show-node\r\n  stats uri \/stats\r\n#listen admin\r\n#  bind 127.0.0.1:22002\r\n#  mode http\r\n#  stats uri \/\r\nfrontend http\r\n  bind *:${port}\r\n  maxconn 2000\r\n  default_backend servers-http\r\nbackend servers-http\" | sudo tee \/etc\/haproxy\/haproxy.cfg\r\n\r\nsudo sed -i 's\/server host-\/#server host-\/g' \/etc\/haproxy\/haproxy.cfg\r\n\r\nhosts=$(echo \"@@{WebServer.address}@@\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\r\nfor host in $hosts; do\r\n  echo  \"  server host-${host} ${host}:${port} weight 1 maxconn 100 check\" | sudo tee -a \/etc\/haproxy\/haproxy.cfg\r\ndone\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"superuser"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProx"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"814b3110_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ef347d03_deployment"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ScaleIn","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[]}],"description":"","name":"775a9079_runbook","main_task_local_reference":{"kind":"app_task","name":"3f9f24e2_dag"},"variable_list":[]},"name":"WebScaleIn"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ffe56b9e_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"ecb4b9c8_runbook","main_task_local_reference":{"kind":"app_task","name":"ffe56b9e_dag"},"variable_list":[]},"name":"Action4"}],"name":"Small","variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"USER_INITIALS","value":"xyz","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MYSQL_APP_USER","value":"webapp_user","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":true,"description":"MySQL Password","data_type":"BASE","type":"SECRET","name":"MYSQL_PASSWORD","value":"snUgcbdDeTZQcxER+Z4I98N07X7XPQNiBYaoCBb3aINxrPFoRXDuVaQr:utf-8","label":"","attrs":{"is_secret_modified":false,"secret_reference":{},"type":"SECRET"},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"DATABASE_NAME","value":"webapp","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"DATABASE_TABLE","value":"tecc_dba_test","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MySQL_tecc_webuser","value":"tecc_webuser","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}]}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"superuser"},"type":"USER"},"name":"Project2 credsissue"},"api_version":"3.0","metadata":{"last_update_time":"1608434109506497","kind":"blueprint","spec_version":6,"creation_time":"1608433937422150","name":"Project_2"}}